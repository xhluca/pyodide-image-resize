(this["webpackJsonppyodide-image-editor"]=this["webpackJsonppyodide-image-editor"]||[]).push([[0],{80:function(e,t,n){},88:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),r=n.n(c),s=n(33),i=n.n(s),o=(n(80),n(13)),u=n(21),l=n.n(u),d=n(34),j=n(150),b=n(151),p=n(139),f=n(149),x=n(59),O=n(67),h=n(4),m=Object(h.a)("input")({display:"none"}),g=function(e){var t=e.onChange,n=Object(O.a)(e,["onChange"]);return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(a.jsx)(m,{accept:"image/*",id:"contained-button-file",type:"file",onChange:t}),Object(a.jsx)(j.a,Object(x.a)(Object(x.a)({variant:"contained",component:"span"},n),{},{children:"Upload"}))]})})},v=n(144),w=n(154),y=n(152),k=n(153),P=n(146),C=n(147),F=n(145),S=n(142),G=(n(88),n.p+"static/media/main.d4bc4b87.py"),R=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("pyodide"in window){e.next=6;break}return e.next=3,window.loadPyodide({indexURL:"https://cdn.jsdelivr.net/pyodide/v0.18.1/full/"});case 3:return window.pyodide=e.sent,e.next=6,window.pyodide.loadPackage("Pillow");case 6:return e.abrupt("return",window.pyodide);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return e.next=4,e.sent.text();case 4:return n=e.sent,e.next=7,R();case 7:return a=e.sent,e.next=10,a.runPythonAsync(n);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(c.useState)(),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(),i=Object(o.a)(s,2),u=i[0],x=i[1],O=Object(c.useState)(!0),h=Object(o.a)(O,2),m=h[0],R=h[1],L=Object(c.useState)(!0),B=Object(o.a)(L,2),E=B[0],J=B[1],N=Object(c.useState)("PNG"),U=Object(o.a)(N,2),W=U[0],D=U[1],M=Object(c.useRef)(1),A=Object(c.useRef)(),T=Object(c.useRef)(),z=Object(c.useRef)(),V=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.files[0],(a=new FileReader).onload=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(a.result),A.current=a.result,J(!1);case 3:case"end":return e.stop()}}),e)}))),a.readAsDataURL(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value/100,M.current=n;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=A.current,n=M.current,a=z.current,console.log("imgB64",t),console.log("ratio",n),console.log("processImage",a),x(a(t,n,W));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T.current){e.next=7;break}return console.log("Loading main.py"),e.next=4,I(G);case 4:T.current=!0,z.current=window.pyodide.globals.get("process_image"),R(!1);case 7:case"end":return e.stop()}}),e)})))()}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(p.a,{}),Object(a.jsx)(b.a,{maxWidth:!1,children:Object(a.jsxs)(f.a,{container:!0,spacing:2,children:[Object(a.jsx)(f.a,{item:!0,lg:12,children:Object(a.jsx)(y.a,{children:Object(a.jsx)(k.a,{children:Object(a.jsxs)(f.a,{container:!0,spacing:3,children:[Object(a.jsxs)(f.a,{item:!0,xs:12,md:6,lg:4,children:[Object(a.jsx)(w.a,{children:"New Size"}),Object(a.jsx)(v.a,{defaultValue:100,valueLabelDisplay:"auto",marks:[{value:0,label:"0%"},{value:50,label:"50%"},{value:100,label:"100%"}],onChange:_})]}),Object(a.jsx)(f.a,{item:!0,xs:12,md:6,lg:4,children:Object(a.jsxs)(P.a,{fullWidth:!0,children:[Object(a.jsx)(C.a,{id:"demo-simple-select-label",children:"Save Format"}),Object(a.jsxs)(S.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:W,label:"save-format",onChange:function(e){return D(e.target.value)},children:[Object(a.jsx)(F.a,{value:"PNG",children:"PNG"}),Object(a.jsx)(F.a,{value:"JPEG",children:"JPEG"}),Object(a.jsx)(F.a,{value:"BMP",children:"BMP"}),Object(a.jsx)(F.a,{value:"GIF",children:"GIF"})]})]})}),Object(a.jsxs)(f.a,{item:!0,xs:12,children:[Object(a.jsx)(g,{onChange:V,disabled:m}),Object(a.jsx)(j.a,{variant:"contained",color:"secondary",disabled:E,onClick:q,children:"Process"})]})]})})})}),Object(a.jsx)(f.a,{item:!0,xs:12,lg:6,children:Object(a.jsx)("img",{src:n,alt:"Click on 'Upload' to start",style:{maxWidth:"100%"}})}),Object(a.jsx)(f.a,{item:!0,xs:12,lg:6,children:Object(a.jsx)("img",{src:u,alt:"Processed img will appear here",style:{maxWidth:"100%"}})})]})})]})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,156)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(L,{})}),document.getElementById("root")),B()}},[[90,1,2]]]);
//# sourceMappingURL=main.8b48aa2a.chunk.js.map